{% extends 'base.html' %}

{% block content %}
{% if user.is_authenticated %}
    <p>Hi <span id="username">{{user.username}}</span></p>
    <p>points: <span id="points">{{user.points}}</span></p>
    <input type="hidden" id="id" value={{user.id}}>
    <input type="hidden" id="csrf" value={{csrf_token}}>
    <a href="{% url 'logout'%}">log out</a>
    <a href="{% url 'world'%}">Home</a>
    <div>
        <a href="#" id="mute">Toggle music</a>
    </div>
    <div class="weather">
    </div>
    <div class="maze-container">
        <canvas height="300" width="400"></canvas>
        <div class="output"></div>
        <div class="scoreBox"></div>
    </div>
{% load static %}
<script src="{% static 'levels/level01.js' %}" type="text/javascript"></script>
{% load static %}
<script src="{% static 'game.js' %}" type="text/javascript"></script>

<div id="player">
    <audio hidden loop muted autoplay src="{% static 'superhero.ogg' %}" type="audio/ogg">
        If you're reading this, audio isn't supported by your browser.
    </audio>
</div>
    <form action='127.0.0.1:8000/users/update/' method='post'>
        {% csrf_token %}
        <input type='text' name='points' placeholder='add points'></input>
        <button type='submit'>Add Points</button>
    </form>

{% else %}
    <p>You don't appear to be logged in</p>
    <a href="{% url 'login'%}">login</a>
    <a href="{% url 'signup'%}">signup</a>

    <div class="maze-container">
        <canvas height="400" width="400"></canvas>
        <div class="output"></div>
        <div class="scoreBox"></div>
    </div>
    {% load static %}
<script src="{% static 'game.js' %}" type="text/javascript" type="module"></script>
{% endif %}
{% endblock content %}